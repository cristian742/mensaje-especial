<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>¡La Gran Pregunta!</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(to right top, #ffafbd, #ffcdcd); /* Fondo rosa suave */
            overflow: hidden; /* Oculta los corazones que se salgan */
            position: relative;
            color: #4a4a4a;
        }

        /* Animación de corazones */
        .heart {
            position: absolute;
            background-color: #ff6b6b; /* Rojo corazón */
            transform: rotate(-45deg);
            animation: float 10s infinite;
            pointer-events: none; /* Para que no interfieran con los clics */
            opacity: 0;
        }

        .heart::before,
        .heart::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #ff6b6b;
            border-radius: 50%;
        }

        .heart::before {
            left: -50%;
        }

        .heart::after {
            top: -50%;
        }

        @keyframes float {
            0% { transform: translateY(100vh) rotate(-45deg); opacity: 0; }
            5% { opacity: 1; }
            95% { opacity: 1; }
            100% { transform: translateY(-100vh) rotate(-45deg); opacity: 0; }
        }

        .container {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 40px 30px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 500px;
            width: 90%;
            position: relative; /* Para los botones */
            z-index: 10;
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            color: #d83d3d;
            font-size: 3.5em;
            margin-bottom: 25px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        button {
            background-color: #ff6b6b;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            font-weight: 600;
        }

        button:hover {
            background-color: #e65252;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }

        #no-btn {
            position: absolute; /* Para que se mueva */
            transition: all 0.1s ease; /* Transición más rápida para el movimiento */
            left: 50%;
            transform: translateX(-50%);
        }

        #yes-message {
            margin-top: 30px;
            font-family: 'Dancing Script', cursive;
            color: #d83d3d;
            font-size: 2.5em;
            display: none; /* Oculto inicialmente */
        }

        #confirmation-image {
            max-width: 80%;
            border-radius: 15px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: none; /* Oculto inicialmente */
        }

        #download-btn {
            background-color: #4CAF50; /* Verde para el botón de descarga */
            margin-top: 20px;
            display: none; /* Oculto inicialmente */
        }
        #download-btn:hover {
            background-color: #45a049;
        }

        /* Responsive adjustments */
        @media (max-width: 600px) {
            h1 {
                font-size: 2.5em;
            }
            #yes-message {
                font-size: 1.8em;
            }
            button {
                padding: 12px 25px;
                font-size: 1em;
            }
            .buttons {
                flex-direction: column;
                gap: 15px;
            }
            #no-btn {
                position: static; /* En móviles, que no se mueva tanto */
                transform: none;
                margin-top: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="question">¿Quieres ser mi novia, mi amor? ❤️</h1>
        <div class="buttons">
            <button id="yes-btn">¡Sí, mi cielo!</button>
            <button id="no-btn">No (ni de broma)</button>
        </div>
        
        <p id="yes-message">¡Sabía que dirías que sí! ¡Somos novios oficialmente! 🥰</p>
        
        <img id="confirmation-image" src="https://i.ibb.co/hR23xT0/pareja-feliz.png" alt="Pareja feliz celebrando">
        <button id="download-btn">Descargar Certificado de Novios</button>
    </div>

    <script>
        const noBtn = document.getElementById('no-btn');
        const yesBtn = document.getElementById('yes-btn');
        const question = document.getElementById('question');
        const buttonsContainer = document.querySelector('.buttons');
        const yesMessage = document.getElementById('yes-message');
        const confirmationImage = document.getElementById('confirmation-image');
        const downloadBtn = document.getElementById('download-btn');
        const container = document.querySelector('.container');

        // Función para crear corazones flotantes
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.style.width = Math.random() * 20 + 10 + 'px'; /* Tamaño variable */
            heart.style.height = heart.style.width;
            heart.style.left = Math.random() * 100 + 'vw'; /* Posición horizontal aleatoria */
            heart.style.animationDuration = Math.random() * 5 + 5 + 's'; /* Duración de animación variable */
            heart.style.animationDelay = Math.random() * 5 + 's'; /* Retraso de animación variable */
            document.body.appendChild(heart);

            heart.addEventListener('animationend', () => {
                heart.remove();
            });
        }

        // Generar corazones constantemente
        setInterval(createHeart, 300); // Crea un corazón cada 300ms

        // Movimiento del botón "No"
        noBtn.addEventListener('mouseover', () => {
            const containerRect = container.getBoundingClientRect();
            const noBtnRect = noBtn.getBoundingClientRect();

            // Calcular nuevas posiciones dentro del contenedor para que el botón "No" no se salga
            let newX = Math.random() * (containerRect.width - noBtnRect.width);
            let newY = Math.random() * (containerRect.height - noBtnRect.height);

            // Ajustar para que el botón no se monte sobre el título
            const titleHeight = question.offsetHeight + 20; // Altura del título más un margen
            if (newY < titleHeight) {
                newY = titleHeight + Math.random() * (containerRect.height - titleHeight - noBtnRect.height);
            }

            // Aplicar la nueva posición relativa al contenedor
            noBtn.style.position = 'absolute';
            noBtn.style.left = `${newX}px`;
            noBtn.style.top = `${newY}px`;
            noBtn.style.transform = 'none'; // Desactivar el translateX para controlar con left/top
        });

        // Cuando se hace clic en "Sí"
        yesBtn.addEventListener('click', () => {
            question.style.display = 'none';
            buttonsContainer.style.display = 'none';
            yesMessage.style.display = 'block';
            confirmationImage.style.display = 'block';
            downloadBtn.style.display = 'block';
            // Crear muchos corazones cuando dice que sí
            for(let i = 0; i < 50; i++) {
                createHeart();
            }
        });

        // Descargar certificado
        downloadBtn.addEventListener('click', () => {
            // Aquí puedes redirigir a una página que se descargue
            // O abrir una nueva ventana con el certificado para que pueda hacer "Guardar como PDF"
            const fechaActual = new Date();
            const dia = String(fechaActual.getDate()).padStart(2, '0');
            const mes = String(fechaActual.getMonth() + 1).padStart(2, '0'); // Enero es 0
            const anio = fechaActual.getFullYear();
            const nombreArchivo = `Certificado_Novios_${dia}-${mes}-${anio}.html`;

            const certificadoHTML = `
                <!DOCTYPE html>
                <html lang="es">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Certificado Oficial de Novios</title>
                    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
                    <style>
                        body {
                            font-family: 'Poppins', sans-serif;
                            display: flex;
                            justify-content: center;
                            align-items: center;
                            min-height: 100vh;
                            background: url('https://i.ibb.co/C032b49/fondo-certificado.jpg') no-repeat center center fixed; /* Fondo más formal/romántico */
                            background-size: cover;
                            margin: 0;
                            padding: 20px;
                            box-sizing: border-box;
                        }
                        .certificado {
                            background-color: rgba(255, 255, 255, 0.95);
                            border: 10px solid #d83d3d; /* Borde rojo romántico */
                            border-radius: 20px;
                            padding: 40px;
                            max-width: 800px;
                            width: 100%;
                            text-align: center;
                            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
                            position: relative;
                            overflow: hidden;
                        }
                        .certificado::before {
                            content: '💖';
                            position: absolute;
                            top: -10px;
                            left: -10px;
                            font-size: 50px;
                            color: #ff6b6b;
                            opacity: 0.7;
                        }
                         .certificado::after {
                            content: '💖';
                            position: absolute;
                            bottom: -10px;
                            right: -10px;
                            font-size: 50px;
                            color: #ff6b6b;
                            opacity: 0.7;
                        }
                        .title {
                            font-family: 'Dancing Script', cursive;
                            font-size: 3.8em;
                            color: #d83d3d;
                            margin-bottom: 20px;
                            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.15);
                        }
                        .subtitle {
                            font-size: 1.5em;
                            color: #5a3e36;
                            margin-bottom: 30px;
                            font-weight: 600;
                        }
                        .names {
                            font-family: 'Dancing Script', cursive;
                            font-size: 2.8em;
                            color: #d83d3d;
                            margin: 20px 0;
                            line-height: 1.2;
                        }
                        .message {
                            font-size: 1.2em;
                            color: #6d6d6d;
                            margin-bottom: 25px;
                            line-height: 1.7;
                        }
                        .date {
                            font-size: 1.1em;
                            color: #888;
                            margin-top: 30px;
                        }
                        .signature {
                            margin-top: 40px;
                            font-family: 'Dancing Script', cursive;
                            font-size: 2em;
                            color: #d83d3d;
                        }
                        .divine-approval {
                            font-size: 0.9em;
                            color: #999;
                            margin-top: 15px;
                            font-style: italic;
                        }
                        .heart-icon {
                            color: #ff6b6b;
                            font-size: 1.5em;
                            vertical-align: middle;
                        }

                        @media (max-width: 600px) {
                            .title {
                                font-size: 2.5em;
                            }
                            .subtitle {
                                font-size: 1.2em;
                            }
                            .names {
                                font-size: 2em;
                            }
                            .message {
                                font-size: 1em;
                            }
                            .certificado {
                                padding: 25px;
                            }
                        }
                    </style>
                </head>
                <body>
                    <div class="certificado">
                        <h1 class="title">¡Certificado Oficial de Novios! <span class="heart-icon">❤️</span></h1>
                        <p class="subtitle">Conferido a la pareja más hermosa y destinada</p>
                        
                        <p class="names">
                            El Macho Precioso<br>
                            y<br>
                            María Belén Domínguez
                        </p>
                        
                        <p class="message">
                            Por medio de este documento, se deja constancia oficial del inicio de un amor verdadero y eterno.
                            Han demostrado ser la combinación perfecta, con risas, complicidad y un cariño que ilumina el mundo.
                            Este certificado sella un compromiso de amor, apoyo, aventuras juntos y muchísimos besos.
                            ¡Que su historia de amor sea siempre su favorita!
                        </p>
                        
                        <p class="date">Emitido el ${dia} de ${obtenerNombreMes(mes)} del ${anio}</p>
                        
                        <p class="signature">
                            Con el aval de Cupido y un amor sincero.<br>
                            <span style="font-size: 0.8em; color: #888;">Testificado por el corazón de ambos</span>
                        </p>
                        <p class="divine-approval">"Y sobre todo, ámense profundamente unos a otros..." - 1 Pedro 4:8. ¡Aprobado por Diosito! ✨</p>
                    </div>
                    <script>
                        function obtenerNombreMes(numeroMes) {
                            const meses = [
                                "enero", "febrero", "marzo", "abril", "mayo", "junio",
                                "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"
                            ];
                            return meses[parseInt(numeroMes) - 1];
                        }
                        // La lógica para la descarga ya está manejada por el botón principal
                    </script>
                </body>
                </html>
            `;
            
            const blob = new Blob([certificadoHTML], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = nombreArchivo;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        // Función auxiliar para obtener el nombre del mes (duplicada para la descarga directa)
        function obtenerNombreMes(numeroMes) {
            const meses = [
                "enero", "febrero", "marzo", "abril", "mayo", "junio",
                "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre"
            ];
            return meses[parseInt(numeroMes) - 1];
        }

    </script>
</body>
</html>
